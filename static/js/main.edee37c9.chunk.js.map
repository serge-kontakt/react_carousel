{"version":3,"sources":["components/Carousel.tsx","App.tsx","index.tsx"],"names":["Carousel","state","disableButtonR","disableButtonL","oneStep","lastStep","scrollRight","props","itemWidth","step","infinite","images","frameSize","maxSteps","length","newStep","Math","max","setState","scrollLeft","min","this","animationDuration","startIndex","floor","endIndex","className","style","width","overflow","transform","transition","map","image","index","isVisible","visibility","src","alt","toString","type","onClick","Component","App","changeInput","e","target","name","value","checked","prevState","htmlFor","id","defaultValue","onChange","required","React","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.edee37c9.chunk.js","sourcesContent":["import { Component } from 'react';\nimport './Carousel.scss';\n\ntype Props = {\n  images: string[];\n  step: number;\n  frameSize: number;\n  itemWidth: number;\n  animationDuration: number;\n  infinite: boolean;\n};\n\ntype State = {\n  disableButtonR: boolean;\n  disableButtonL: boolean;\n  oneStep: number;\n  lastStep: boolean;\n};\n\nexport class Carousel extends Component<Props, State> {\n  state: Readonly<State> = {\n    disableButtonR: false,\n    disableButtonL: true,\n    oneStep: 0,\n    lastStep: false,\n  };\n\n  scrollRight = () => {\n    const {\n      itemWidth,\n      step,\n      infinite,\n      images,\n      frameSize,\n    } = this.props;\n    const { disableButtonR, oneStep } = this.state;\n    let { lastStep } = this.state;\n    const maxSteps = images.length - frameSize;\n\n    if (disableButtonR && infinite === false) {\n      return;\n    }\n\n    let newStep = oneStep - itemWidth * step;\n\n    newStep = Math.max(newStep, -itemWidth * maxSteps);\n\n    if (disableButtonR && infinite) {\n      lastStep = true;\n      newStep = 0;\n    }\n\n    this.setState({\n      disableButtonR: newStep === -itemWidth * maxSteps,\n      disableButtonL: newStep === 0,\n      oneStep: (lastStep && infinite) ? 0 : newStep,\n    });\n  };\n\n  scrollLeft = () => {\n    const {\n      itemWidth,\n      step,\n      infinite,\n      images,\n      frameSize,\n    } = this.props;\n    const { disableButtonL, oneStep } = this.state;\n    let { lastStep } = this.state;\n\n    if (disableButtonL && infinite === false) {\n      return;\n    }\n\n    let newStep = oneStep + itemWidth * step;\n\n    newStep = Math.min(newStep, 0);\n\n    if (disableButtonL && infinite) {\n      lastStep = true;\n      newStep = -itemWidth * (images.length - frameSize);\n    }\n\n    this.setState({\n      disableButtonL: newStep === 0,\n      disableButtonR: newStep\n      === -itemWidth * (images.length - frameSize),\n      oneStep: (lastStep && infinite)\n        ? (-itemWidth * (images.length - frameSize))\n        : newStep,\n    });\n  };\n\n  render() {\n    const {\n      images,\n      itemWidth,\n      frameSize,\n      animationDuration,\n      infinite,\n    } = this.props;\n    const { disableButtonR, disableButtonL, oneStep } = this.state;\n\n    const startIndex = Math.max(0, -Math.floor(oneStep / itemWidth));\n    const endIndex = Math.min(images.length - 1, startIndex + frameSize - 1);\n\n    return (\n      <div className=\"Carousel\">\n        <div style={{ width: itemWidth * frameSize, overflow: 'hidden' }}>\n          <ul\n            className=\"Carousel__list\"\n            style={{\n              width: itemWidth * images.length,\n              transform: `translate(${oneStep}px)`,\n              transition: `transform ${animationDuration}ms`,\n            }}\n          >\n            {images.map((image, index) => {\n              const isVisible = index >= startIndex && index <= endIndex;\n\n              return (\n                <li\n                  key={image}\n                  style={{\n                    width: itemWidth,\n                    visibility: isVisible ? 'visible' : 'hidden',\n                  }}\n                >\n                  <img\n                    src={image}\n                    alt={(index + 1).toString()}\n                    width={itemWidth}\n                  />\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n\n        <div\n          className=\"Carousel__buttons\"\n          style={{ width: itemWidth * frameSize }}\n        >\n          <button\n            type=\"button\"\n            aria-label=\"Prev\"\n            className={`Carousel__button Carousel__button--left ${(disableButtonL && infinite === false) ? 'Carousel__button--disable' : ''}`}\n            onClick={this.scrollLeft}\n          />\n          <button\n            type=\"button\"\n            aria-label=\"Next\"\n            data-cy=\"next\"\n            className={`Carousel__button Carousel__button--right ${(disableButtonR && infinite === false) ? 'Carousel__button--disable' : ''}`}\n            onClick={this.scrollRight}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport './App.scss';\nimport { Carousel } from './components/Carousel';\n\ninterface State {\n  images: string[];\n  step: number;\n  frameSize: number;\n  itemWidth: number;\n  animationDuration: number;\n  infinite: boolean;\n}\n\nclass App extends React.Component<{}, State> {\n  state = {\n    images: [\n      './img/1.png',\n      './img/2.png',\n      './img/3.png',\n      './img/4.png',\n      './img/5.png',\n      './img/6.png',\n      './img/7.png',\n      './img/8.png',\n      './img/9.png',\n      './img/10.png',\n    ],\n    step: 3,\n    frameSize: 3,\n    itemWidth: 130,\n    animationDuration: 1000,\n    infinite: false,\n  };\n\n  changeInput = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const {\n      name,\n      value,\n      type,\n      checked,\n    } = e.target;\n\n    this.setState((prevState: Readonly<State>) => ({\n      ...prevState,\n      [name]: type === 'checkbox' ? checked : value,\n    }));\n  };\n\n  render() {\n    const {\n      images,\n      step,\n      frameSize,\n      itemWidth,\n      animationDuration,\n      infinite,\n    } = this.state;\n\n    return (\n      <div className=\"App\">\n\n        <h1 data-cy=\"title\">{`Carousel with ${images.length} images`}</h1>\n\n        <label htmlFor=\"itemId\">\n          Item Width\n          <input\n            type=\"number\"\n            id=\"itemId\"\n            name=\"itemWidth\"\n            defaultValue={itemWidth}\n            onChange={this.changeInput}\n            required\n          />\n        </label>\n\n        <label htmlFor=\"frameId\">\n          Frame Size\n          <input\n            type=\"number\"\n            id=\"frameId\"\n            name=\"frameSize\"\n            defaultValue={frameSize}\n            onChange={this.changeInput}\n            required\n          />\n        </label>\n\n        <label htmlFor=\"stepId\">\n          Step\n          <input\n            type=\"number\"\n            id=\"stepId\"\n            name=\"step\"\n            defaultValue={step}\n            onChange={this.changeInput}\n            required\n          />\n        </label>\n\n        <label>\n          Animation Duration\n          <input\n            type=\"number\"\n            name=\"animationDuration\"\n            defaultValue={animationDuration}\n            onChange={this.changeInput}\n            required\n          />\n        </label>\n\n        <label>\n          Infinite\n          <input\n            type=\"checkbox\"\n            name=\"infinite\"\n            checked={infinite}\n            onChange={this.changeInput}\n          />\n        </label>\n\n        <Carousel\n          images={images}\n          step={step}\n          frameSize={frameSize}\n          itemWidth={itemWidth}\n          animationDuration={animationDuration}\n          infinite={infinite}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}